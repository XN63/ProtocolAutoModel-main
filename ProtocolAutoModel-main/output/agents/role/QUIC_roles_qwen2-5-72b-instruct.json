{
  "subprotocol": "Streams",
  "roles": [
    {
      "name": "endpoint",
      "capabilities": [
        "MUST NOT send data on any stream without ensuring that",
        "MUST NOT reuse a stream ID within a connection",
        "MUST NOT send any of these frames from a terminal state",
        "MUST NOT send data on a stream at or beyond the final size",
        "MUST NOT wait to receive this signal before advertising additional stream limits",
        "MAY defer sending the RESET_STREAM frame until the stream is in the 'Data Sent' state",
        "MAY send a RESET_STREAM as the first frame that opens the sending part of that stream and then immediately transition to the 'Reset Sent' state",
        "MAY send a STOP_SENDING frame in any state where it has not received a RESET_STREAM frame",
        "MAY treat receipt of different data at the same offset as an error",
        "SHOULD copy the error code from the STOP_SENDING frame to the RESET_STREAM frame it sends",
        "SHOULD send a RESET_STREAM frame instead of retransmitting the data if any outstanding data is declared lost",
        "SHOULD send a STREAM_DATA_BLOCKED or DATA_BLOCKED frame when it has no ack-eliciting packets in flight and is flow control limited",
        "SHOULD send a STREAMS_BLOCKED frame if it cannot open a new stream due to the peer's limits",
        "SHOULD respond with an error of type FINAL_SIZE if a RESET_STREAM or STREAM frame is received indicating a change in the final size for the stream"
      ],
      "cites": [
        "2.2-p238-s1",
        "2.1-p207-s4",
        "3.3-p464-s1",
        "3.5-p551-s36",
        "3.5-p565-s50",
        "2.4-p329-s66",
        "3.1-p386-s1",
        "2.4-p316-s53",
        "2.2-p235-s3",
        "3.5-p509-s1",
        "2.4-p330-s67",
        "3.5-p531-s16",
        "3.5-p563-s48",
        "3.5-p552-s37"
      ]
    },
    {
      "name": "sender",
      "capabilities": [
        "MUST NOT send a STREAM or STREAM_DATA_BLOCKED frame from a terminal state",
        "MUST NOT send any of these frames from a terminal state",
        "MUST NOT send data on a stream at or beyond the final size",
        "MUST NOT wait to receive this signal before advertising additional stream limits",
        "MAY defer sending the RESET_STREAM frame until the stream is in the 'Data Sent' state",
        "MAY send a RESET_STREAM as the first frame that opens the sending part of that stream and then immediately transition to the 'Reset Sent' state",
        "MAY send a STOP_SENDING frame in any state where it has not received a RESET_STREAM frame",
        "SHOULD send a RESET_STREAM frame instead of retransmitting the data if any outstanding data is declared lost",
        "SHOULD send a STREAM_DATA_BLOCKED or DATA_BLOCKED frame when it has no ack-eliciting packets in flight and is flow control limited",
        "SHOULD send a STREAMS_BLOCKED frame if it cannot open a new stream due to the peer's limits",
        "SHOULD send a STOP_SENDING frame if a packet containing a previous STOP_SENDING frame is lost"
      ],
      "cites": [
        "2.4-p314-s51",
        "3.3-p464-s1",
        "3.5-p551-s36",
        "3.5-p565-s50",
        "2.4-p329-s66",
        "3.1-p386-s1",
        "2.4-p316-s53",
        "2.4-p330-s67",
        "3.5-p531-s16",
        "3.5-p563-s48",
        "3.5-p513-s1"
      ]
    },
    {
      "name": "receiver",
      "capabilities": [
        "MUST send a RESET_STREAM frame if the stream is in the 'Ready' or 'Send' state and a STOP_SENDING frame is received",
        "MUST use the final size of the stream to accept data and update the connection-level flow controller",
        "MAY send a STOP_SENDING frame in any state where it has not received a RESET_STREAM frame",
        "MAY ignore the error code in any RESET_STREAM frames subsequently received for that stream",
        "SHOULD send a RESET_STREAM frame instead of retransmitting the data if any outstanding data is declared lost",
        "SHOULD send a STREAM_DATA_BLOCKED or DATA_BLOCKED frame when it has no ack-eliciting packets in flight and is flow control limited",
        "SHOULD send a STREAMS_BLOCKED frame if it cannot open a new stream due to the peer's limits",
        "SHOULD respond with an error of type FINAL_SIZE if a RESET_STREAM or STREAM frame is received indicating a change in the final size for the stream"
      ],
      "cites": [
        "2.4-p328-s65",
        "3.5-p551-s36",
        "2.4-p316-s53",
        "2.4-p331-s68",
        "2.4-p330-s67",
        "3.5-p531-s16",
        "3.5-p563-s48",
        "3.5-p552-s37"
      ]
    }
  ]
}