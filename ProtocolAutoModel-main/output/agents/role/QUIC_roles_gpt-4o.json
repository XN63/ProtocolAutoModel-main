{
  "subprotocol": "Streams",
  "roles": [
    {
      "name": "endpoint",
      "capabilities": [
        "MUST NOT send data on any stream without ensuring",
        "MUST send a RESET_STREAM frame if the stream is in the 'Ready' or 'Send' state",
        "MUST NOT reuse a stream ID within a connection",
        "MAY defer sending the RESET_STREAM frame",
        "MAY treat receipt of different data at the same offset as an error",
        "SHOULD copy the error code from the STOP_SENDING frame to the RESET_STREAM frame",
        "SHOULD send a RESET_STREAM frame instead of retransmitting lost data",
        "MAY send a RESET_STREAM as the first frame"
      ],
      "cites": [
        "2.2#name-sending-and-receiving-data/2.2-p95/2.2-p238-s1",
        "2.4#name-operations-on-streams/2.4-p110/2.4-p328-s65",
        "2.1#name-stream-types-and-identifier/2.1-p82/2.1-p207-s4",
        "2.4#name-operations-on-streams/2.4-p110/2.4-p329-s66",
        "2.2#name-sending-and-receiving-data/2.2-p93/2.2-p235-s3",
        "3.5#name-solicited-state-transitions/3.5-p164/3.5-p509-s1",
        "3.5#name-solicited-state-transitions/3.5-p163/3.5-p508-s4",
        "3.1#name-sending-stream-states/3.1-p128/3.1-p386-s1"
      ]
    },
    {
      "name": "receiver",
      "capabilities": [
        "MAY send a STOP_SENDING frame in any state where it has not received a RESET_STREAM frame",
        "only sends MAX_STREAM_DATA frames in the 'Recv' state",
        "receives STREAM and STREAM_DATA_BLOCKED frames in the 'Recv' state"
      ],
      "cites": [
        "2.4#name-operations-on-streams/2.4-p110/2.4-p316-s53",
        "3.3#name-permitted-frame-types/3.3-p152/3.3-p468-s1",
        "3.2#name-receiving-stream-states/3.2-p140/3.2-p433-s1"
      ]
    },
    {
      "name": "sender",
      "capabilities": [
        "MUST NOT send a STREAM or STREAM_DATA_BLOCKED frame from a terminal state",
        "SHOULD send a STREAM_DATA_BLOCKED or DATA_BLOCKED frame when flow control limited",
        "SHOULD periodically send a STREAM_DATA_BLOCKED or DATA_BLOCKED frame when no ack-eliciting packets in flight"
      ],
      "cites": [
        "2.4#name-operations-on-streams/2.4-p110/2.4-p314-s51",
        "3.5#name-solicited-state-transitions/3.5-p168/3.5-p529-s14",
        "3.5#name-solicited-state-transitions/3.5-p168/3.5-p531-s16"
      ]
    }
  ]
}