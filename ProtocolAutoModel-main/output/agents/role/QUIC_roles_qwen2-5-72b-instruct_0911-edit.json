{
  "subprotocol": "Streams",
  "roles": [
    {
      "name": "endpoint",
      "capabilities": [
        "MUST NOT send data on any stream without ensuring that",
        "MUST be able to deliver stream data to an application",
        "MUST NOT reuse a stream ID within a connection",
        "MAY send a RESET_STREAM as the first frame that opens a stream and then immediately transition to the 'Reset Sent' state",
        "MAY defer sending the RESET_STREAM frame until all data has been acknowledged if the stream is in the 'Data Sent' state",
        "MAY ignore the error code in any RESET_STREAM frames subsequently received for a stream after sending a STOP_SENDING frame",
        "SHOULD send a RESET_STREAM frame instead of retransmitting data if any outstanding data is declared lost",
        "SHOULD copy the error code from the STOP_SENDING frame to the RESET_STREAM frame it sends",
        "SHOULD send a STREAM_DATA_BLOCKED or DATA_BLOCKED frame when it has no ack-eliciting packets in flight and is flow control limited",
        "SHOULD signal by sending a STOP_SENDING frame if the stream is in the 'Recv' or 'Size Known' state",
        "SHOULD send a STOP_SENDING frame if a packet containing a previous STOP_SENDING frame is lost",
        "SHOULD send an error of type FINAL_SIZE if a RESET_STREAM or STREAM frame is received indicating a change in the final size for the stream"
      ],
      "cites": [
        "2.2-p238-s1",
        "2.2-p229-s1",
        "2.1-p207-s4",
        "3.1-p386-s1",
        "2.4-p329-s66",
        "2.4-p331-s68",
        "3.5-p508-s4",
        "3.5-p509-s1",
        "3.5-p531-s16",
        "3.5-p502-s1",
        "3.5-p513-s1",
        "3.5-p552-s37"
      ]
    },
    {
      "name": "sender",
      "capabilities": [
        "MUST NOT send a STREAM or STREAM_DATA_BLOCKED frame if packets are lost or reordered",
        "MUST NOT send any of these frames from a terminal state",
        "SHOULD send a STREAM_DATA_BLOCKED or DATA_BLOCKED frame when it has no ack-eliciting packets in flight and is flow control limited",
        "SHOULD send a STOP_SENDING frame if a packet containing a previous STOP_SENDING frame is lost"
      ],
      "cites": [
        "2.4-p314-s51",
        "3.3-p464-s1",
        "3.5-p531-s16",
        "3.5-p513-s1"
      ]
    },
    {
      "name": "receiver",
      "capabilities": [
        "MAY send a STOP_SENDING frame in any state where it has not received a RESET_STREAM frame",
        "MUST send a RESET_STREAM frame if the stream is in the 'Ready' or 'Send' state and a STOP_SENDING frame is received",
        "SHOULD send a STOP_SENDING frame if the stream is in the 'Recv' or 'Size Known' state",
        "SHOULD send an error of type FINAL_SIZE if a RESET_STREAM or STREAM frame is received indicating a change in the final size for the stream",
        "SHOULD send a MAX_STREAM_DATA frame in the 'Recv' state"
      ],
      "cites": [
        "2.4-p316-s53",
        "2.4-p328-s65",
        "3.5-p502-s1",
        "3.5-p552-s37",
        "3.3-p468-s1"
      ]
    }
  ]
}